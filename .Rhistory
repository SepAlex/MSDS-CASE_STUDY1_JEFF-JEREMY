setwd("~/LocalGitHubFiles/MSDS-CASE_STUDY1_JEFF-JEREMY")
getwd()
#Loading In data file ex0525.csv
Beers <- read.csv('Beers.csv',header = T,sep = ",")
Brew <- read.csv('Breweries.csv',header = T,sep = ",")
colnames(Brew) <- c("Brewery_id","Brewery Name","City","State")
head(Brew)
str(Brew)
BrewbyState <- table(Brew$State)
BrewbyState
barplot(BrewbyState,
main="Main",
xlab="X Label",
ylab="Y Label",
horiz = TRUE,
las=1,
ylim = c(0,51),
cex.names=0.75)
BrewMerged <- merge(Brew,Beers, by="Brewery_id",all=TRUE)
summary(BrewMerged)
bm <- summary(BrewMerged)
bm$NA
View(BrewMerged)
apply(apply(BrewMerged,2,is.na),2,sum)
View(BrewMerged)
??map_data()
Prison <- read.csv("https://www.oberlin.edu/faculty/cdesante/assets/downloads/prison.csv")
head(Prison)
all_states <- map_data("state")
all_states
all_states <- map_data("state")
all_states
all_states <- map_data("state")
install.packages("maps")
library(maps)
all_states <- map_data("state")
??map_data()
library(ggplot2)
all_states <- map_data("state")
all_states
head(all_states)
tail(all_states)
library(maps)
library(ggplot2)
#########################################################
## DDS - Case Study 1
## Jeffrey Lancon & Jeremy Lubich
## 2017/10/14
## This code will
## 1. How many breweries are present in each state?
## 2. Merge beer data with the breweries data. Print the first 6
##  observations and the last six observations to check the merged file.
## 3. Report the number of NA's in each column.
## 4. Compute the median alcohol content and international bitterness
##  unit for each state. Plot a bar chart to compare.
## 5. Which state has the maximum alcoholic (ABV) beer? Which state
##  has the most bitter (IBU) beer?
## 6. Summary statistics for the ABV variable.
## 7. Is there an apparent relationship between the bitterness of the
##  beer and its alcoholic content? Draw a scatter plot.
#########################################################
library(plyr)
## Initialize Directories
setwd("~/LocalGitHubFiles/MSDS-CASE_STUDY1_JEFF-JEREMY")
getwd()
##Loading In data file ex0525.csv
Beers <- read.csv('Beers.csv',header = T,sep = ",")
head(Beers)
str(Beers)
Brew <- read.csv('Breweries.csv',header = T,sep = ",")
colnames(Brew) <- c("Brewery_id","Brewery Name","City","State")
head(Brew)
str(Brew)
apply(apply(BrewMerged, 2, trimws), 2, sum)
## 1. How many breweries are present in each state?
BrewbyState <- table(Brew$State)
BrewbyState
## 2. Merge beer data with the breweries data. Print the first 6
##  observations and the last six observations to check the merged file.
BrewMerged <- merge(Brew,Beers, by="Brewery_id",all=TRUE)
print("First 6 brewery observations")
head(BrewMerged, 6)
print("Last 6 brewery observations")
tail(BrewMerged, 6)
## 3. Report the number of NA's in each column.
apply(apply(BrewMerged, 2, is.na), 2, sum)
apply(apply(BrewMerged, 2, is.na), 2, sum)
library(tidyr)
BrewMedians <- tidyr::gather(Medians.By.State, "Category", "Value", 2:3)
install.packages("tidyr")
library(tidyr)
BrewMedians <- tidyr::gather(Medians.By.State, "Category", "Value", 2:3)
BrewMerged$State <- trimws(BrewMerged$State)
Medians.By.State <- aggregate(BrewMerged$ABV, list(BrewMerged$State), median, na.rm=TRUE)
names(Medians.By.State) <- c("State", "ABV")
Medians.By.State$IBU <- aggregate(BrewMerged$IBU, list(BrewMerged$State), median, na.rm=TRUE)$x
library(tidyr)
BrewMedians <- tidyr::gather(Medians.By.State, "Category", "Value", 2:3)
View(BrewMedians)
Breweries.By.State <- as.data.frame(BrewbyState)
View(Breweries.By.State)
View(Breweries.By.State)
Breweries$region <- Breweries.by.State$Freq
Breweries$region <- Breweries.By.State$Freq
p <- ggplot()
p <- p + geom_polygon(data=NULL, aes(x=long, y=lat, group = group, fill=Total$bwRatio),colour="white"
) + scale_fill_continuous(low = "thistle2", high = "darkred", guide="colorbar")
P1 <- p + theme_bw()  + labs(fill = "Black to White Incarceration Rates \n Weighted by Relative Population"
,title = "State Incarceration Rates by Race, 2010", x="", y="")
P1 + scale_y_continuous(breaks=c()) + scale_x_continuous(breaks=c()) + theme(panel.border =  element_blank())
p <- ggplot()
p <- p + geom_polygon(data=NULL, aes(x=long, y=lat, group = group, fill=Breweries.By.State$Freq),colour="white"
) + scale_fill_continuous(low = "thistle2", high = "darkred", guide="colorbar")
P1 <- p + theme_bw()  + labs(fill = "Black to White Incarceration Rates \n Weighted by Relative Population"
,title = "State Incarceration Rates by Race, 2010", x="", y="")
P1 + scale_y_continuous(breaks=c()) + scale_x_continuous(breaks=c()) + theme(panel.border =  element_blank())
library(maps)
library(ggplot2)
all_states <- map_data("state")
all_states
head(all_states)
tail(all_states)
p <- ggplot()
p <- p + geom_polygon(data=NULL, aes(x=long, y=lat, group = group, fill=Breweries.By.State$Freq),colour="white"
) + scale_fill_continuous(low = "thistle2", high = "darkred", guide="colorbar")
P1 <- p + theme_bw()  + labs(fill = "Black to White Incarceration Rates \n Weighted by Relative Population"
,title = "State Incarceration Rates by Race, 2010", x="", y="")
P1 + scale_y_continuous(breaks=c()) + scale_x_continuous(breaks=c()) + theme(panel.border =  element_blank())
p <- ggplot()
p <- p + geom_polygon( data=all_states, aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
p
library(fiftystater)
data("fifty_states") # this line is optional due to lazy data loading
crimes <- data.frame(state = tolower(rownames(USArrests)), USArrests)
View(crimes)
# map_id creates the aesthetic mapping to the state name column in your data
p <- ggplot(crimes, aes(map_id = state)) +
# map points to the fifty_states shape data
geom_map(aes(fill = Assault), map = fifty_states) +
expand_limits(x = fifty_states$long, y = fifty_states$lat) +
coord_map() +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL) +
labs(x = "", y = "") +
theme(legend.position = "bottom",
panel.background = element_blank())
p
# add border boxes to AK/HI
p + fifty_states_inset_boxes()
library(fiftystater)
data("fifty_states") # this line is optional due to lazy data loading
crimes <- data.frame(state = tolower(rownames(USArrests)), USArrests)
# map_id creates the aesthetic mapping to the state name column in your data
p <- ggplot(crimes, aes(map_id = state)) +
# map points to the fifty_states shape data
geom_map(aes(fill = Assault), map = fifty_states) +
expand_limits(x = fifty_states$long, y = fifty_states$lat) +
coord_map() +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL) +
labs(x = "", y = "") +
theme(legend.position = "bottom",
panel.background = element_blank())
p
# add border boxes to AK/HI
p + fifty_states_inset_boxes()
View(Breweries.By.State)
View(crimes)
p <- ggplot(Breweries.by.State, aes(map_id = state)) +
# map points to the fifty_states shape data
geom_map(aes(fill = Freq), map = fifty_states) +
expand_limits(x = fifty_states$long, y = fifty_states$lat) +
coord_map() +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL) +
labs(x = "", y = "") +
theme(legend.position = "bottom",
panel.background = element_blank())
rowname(Breweries.by.State) <- c(Breweries.By.State$Var1)
row.names(Breweries.by.State) <- c(Breweries.By.State$Var1)
row.names(Breweries.By.State) <- c(Breweries.By.State$Var1)
View(Breweries.By.State)
row.names(Breweries.By.State) <- Breweries.By.State$Var1
View(Breweries.By.State)
p <- ggplot(Breweries.by.State, aes(map_id = state)) +
# map points to the fifty_states shape data
geom_map(aes(fill = Freq), map = fifty_states) +
expand_limits(x = fifty_states$long, y = fifty_states$lat) +
coord_map() +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL) +
labs(x = "", y = "") +
theme(legend.position = "bottom",
panel.background = element_blank())
p <- ggplot(Breweries.By.State, aes(map_id = state)) +
# map points to the fifty_states shape data
geom_map(aes(fill = Freq), map = fifty_states) +
expand_limits(x = fifty_states$long, y = fifty_states$lat) +
coord_map() +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL) +
labs(x = "", y = "") +
theme(legend.position = "bottom",
panel.background = element_blank())
p
View(crimes)
p <- ggplot(Breweries.By.State, aes(map_id = var1)) +
# map points to the fifty_states shape data
geom_map(aes(fill = Freq), map = fifty_states) +
expand_limits(x = fifty_states$long, y = fifty_states$lat) +
coord_map() +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL) +
labs(x = "", y = "") +
theme(legend.position = "bottom",
panel.background = element_blank())
p
library(maps)
library(ggplot2)
all_states <- map_data("state")
all_states
p <- ggplot()
p <- p + geom_polygon( data=all_states, aes(x=long, y=lat, group = group),colour="white", fill="grey10" )
p
library(fiftystater)
data("fifty_states") # this line is optional due to lazy data loading
row.names(Breweries.By.State) <- Breweries.By.State$Var1
crimes <- data.frame(state = tolower(rownames(USArrests)), USArrests)
# map_id creates the aesthetic mapping to the state name column in your data
p <- ggplot(Breweries.By.State, aes(map_id = var1)) +
# map points to the fifty_states shape data
geom_map(aes(fill = Freq), map = fifty_states) +
expand_limits(x = fifty_states$long, y = fifty_states$lat) +
coord_map() +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL) +
labs(x = "", y = "") +
theme(legend.position = "bottom",
panel.background = element_blank())
p
# add border boxes to AK/HI
# add border boxes to AK/HI
p + fifty_states_inset_boxes()
data("fifty_states") # this line is optional due to lazy data loading
row.names(Breweries.By.State) <- Breweries.By.State$Var1
crimes <- data.frame(state = tolower(rownames(USArrests)), USArrests)
# map_id creates the aesthetic mapping to the state name column in your data
p <- ggplot(Breweries.By.State, aes(map_id = var1)) +
# map points to the fifty_states shape data
geom_map(aes(fill = Freq), map = fifty_states) +
expand_limits(x = fifty_states$long, y = fifty_states$lat) +
coord_map() +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL) +
labs(x = "", y = "") +
theme(legend.position = "bottom",
panel.background = element_blank())
p
# add border boxes to AK/HI
p + fifty_states_inset_boxes()
library(maps)
library(ggplot2)
all_states <- map_data("state")
congress <- read.csv(C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY)
names(congress[1]) <- "region"
statedata <- merge(all_states,congress,by='region')
congress <- read.csv(C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY/US Regions.csv)
congress <- read.csv(C:\Users\Prodigy\Documents\GitRepositories\MSDS-CASE_STUDY1_JEFF-JEREMY/US Regions.csv)
congress <- read.csv(C:\Users\Prodigy\Documents\GitRepositories\MSDS-CASE_STUDY1_JEFF-JEREMY\US Regions.csv)
congress <- read.csv(C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY/US Regions.csv)
names(congress[1]) <- "region"
congress <- read.csv("C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY/US Regions.csv")
names(congress[1]) <- "region"
congress <- read.csv("C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY/US-Regions.csv")
names(congress[1]) <- "region"
statedata <- merge(all_states,congress,by='region')
library(maps)
library(ggplot2)
all_states <- map_data("state")
statedata <- merge(all_states,congress,by='region')
View(congress)
names(congress[1]) <- "region"
View(congress)
col.names(congress[1]) <- "region"
names(congress)[1] <- "region"
statedata <- merge(all_states,congress,by='region')
senatePlot <- ggplot()+ geom_polygon( data=statedata, aes(x=long, y=lat, group = group),fill=senators),color="grey50")+coord_map()
senatePlot <- ggplot()+ geom_polygon(data=statedata,aes(x=long,y=lat,group = group),fill=as.factor(senator)),color="grey50")+coord_map()
senatePlot
senatePlot <- ggplot()+ geom_polygon(data=statedata,aes(x=long,y=lat,group = group),fill=as.factor(senator)),color="grey50")+coord_map()
senatePlot <- ggplot()+ geom_polygon(data=statedata,aes(x=long,y=lat,group = group),fill=as.factor(senator),color="grey50")+coord_map()
senatePlot
View(statedata)
View(all_states)
congress <- read.csv("C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY/US-Regions.csv")
names(congress)[1] <- "region"
View(congress)
View(all_states)
congress <- read.csv("C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY/US-Regions.csv")
names(congress)[1] <- "region"
View(congress)
statedata <- merge(all_states,congress,by='region')
View(statedata)
senatePlot <- ggplot()+ geom_polygon(data=statedata,aes(x=long,y=lat,group = group),fill=as.factor(senator)),color="grey50")+coord_map()
senatePlot
senatePlot <- ggplot()+ geom_polygon(data=statedata,aes(x=long,y=lat,group = group),fill=as.factor(senator)),color="grey50")+coord_map()
senatePlot <- ggplot()+ geom_polygon(data=statedata,aes(x=long,y=lat,group = group,fill=as.factor(senator)),color="grey50")+coord_map()
senatePlot
library(maps)
library(ggplot2)
all_states <- map_data("state")
congress <- read.csv("C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY/US-Regions.csv")
names(congress)[1] <- "region"
statedata <- merge(all_states,congress,by='region')
senatePlot <- ggplot()+ geom_polygon(data=statedata,aes(x=long,y=lat,group = group,fill=as.factor(senator)),color="grey50")+coord_map()
senatePlot
senatePlot <- ggplot()+ geom_polygon(data=statedata,aes(x=long,y=lat,group = group,fill=as.factor(senator)),color="grey50")+coord_map()
senatePlot
??mapproj
senatePlot <-senatePlot + coor_map()+scale_fill_brewer(name="Breweries",type='seq',palette='Red')
senatePlot
View(statedata)
states <- map_data("state")
ggplot(data = states) +
geom_polygon(aes(x = long, y = lat, fill = region, group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
states <- map_data("state")
ggplot(data = states) +
geom_polygon(aes(x = long, y = lat, fill = statedata$region, group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
states <- map_data("state")
ggplot(data = states) +
geom_polygon(aes(x = long, y = lat, fill = as.factor(statedata$senator), group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
View(states)
states <- map_data("state")
ggplot(data = states) +
geom_polygon(aes(x = long, y = lat, fill = rainbow(51), group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
states <- map_data("state")
ggplot(data = states) +
geom_polygon(aes(x = long, y = lat, fill = region, group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=TRUE)  # do this to leave off the color legend
states <- map_data("state")
ggplot(data = states) +
geom_polygon(aes(x = long, y = lat, fill = blue, group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
states <- map_data("state")
ggplot(data = states) +
geom_polygon(aes(x = long, y = lat, fill = region, group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
states <- map_data("state")
ggplot(data = statesdata) +
geom_polygon(aes(x = long, y = lat, fill = senator, group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
all_states <- map_data("state")
congress <- read.csv("C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY/US-Regions.csv")
names(congress)[1] <- "region"
statedata <- merge(all_states,congress,by='region')
ggplot(data = statesdata) +
geom_polygon(aes(x = long, y = lat, fill = senator, group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
ggplot(data = statedata) +
geom_polygon(aes(x = long, y = lat, fill = senator, group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
all_states <- map_data("state")
congress <- read.csv("C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY/US-Regions.csv")
names(congress)[1] <- "region"
statedata <- merge(all_states,congress,by='region')
ggplot(data = statedata) +
geom_polygon(data=statedata, aes(x = long, y = lat, fill = senator, group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
ggplot() +
geom_polygon(data=statedata, aes(x = long, y = lat, fill = senator, group = group), color = "white") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
View(statedata)
library(maps)
library(ggplot2)
all_states <- map_data("state")
congress <- read.csv("C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY/US-Regions.csv")
names(congress)[1] <- "region"
statedata <- merge(all_states,congress,by='region')
ggplot() +
geom_polygon(data=statedata, aes(x = long, y = lat, fill = senator, group = group), color = "grey50") +
coord_fixed(1.0) +
guides(fill=FALSE)  # do this to leave off the color legend
ggplot() +
geom_polygon(data=statedata, aes(x = long, y = lat, fill = senator, group = group), color = "grey50") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
ggplot() +
geom_polygon(data=statedata, aes(x = long, y = lat, fill = senator, group = group), color = "grey50") +
coord_fixed(1.3) +
guides(fill=FALSE)  # do this to leave off the color legend
ggplot() +
geom_polygon(data=statedata, aes(x = long, y = lat, fill = senator, group = group), color = "grey50") +
coord_fixed(1.3) +
guides(fill=TRUE)  # do this to leave off the color legend
ditch_the_axes <- theme(
axis.text = element_blank(),
axis.line = element_blank(),
axis.ticks = element_blank(),
panel.border = element_blank(),
panel.grid = element_blank(),
axis.title = element_blank()
)
ggplot() +
geom_polygon(data=statedata, aes(x = long, y = lat, fill = senator, group = group), color = "grey50") +
coord_fixed(1.3) +
guides(fill=FALSE) + # do this to leave off the color legend
ditch_the_axes
ggplot() +
geom_polygon(data=statedata, aes(x = long, y = lat, fill = rainbow(51), group = group), color = "grey50") +
coord_fixed(1.3) +
guides(fill=FALSE) + # do this to leave off the color legend
ditch_the_axes
ggplot() +
geom_polygon(data=statedata, aes(x = long, y = lat, fill = senator, group = group), color = "grey50") +
coord_fixed(1.3) +
guides(fill=FALSE) + # do this to leave off the color legend
ditch_the_axes
setwd("~/LocalGitHubFiles/MSDS-CASE_STUDY1_JEFF-JEREMY")
getwd()
ibrary(plyr)
## Initialize Directories
setwd("~/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY")
getwd()
Beers <- read.csv('Beers.csv',header = T,sep = ",")
head(Beers)
str(Beers)
Brew <- read.csv('Breweries.csv',header = T,sep = ",")
colnames(Brew) <- c("Brewery_id","Brewery Name","City","State")
head(Brew)
str(Brew)
BrewbyState <- table(Brew$State)
BrewbyState
BrewMerged <- merge(Brew,Beers, by="Brewery_id",all=TRUE)
print("First 6 brewery observations")
head(BrewMerged, 6)
print("Last 6 brewery observations")
tail(BrewMerged, 6)
BrewbyState
brewMap <- as.dataframe(BrewState)
class(BrewbyState)
brewMap <- as.data.frame(BrewState)
brewMap <- as.data.frame(BrewbyState)
View(brewMap)
View(brewMap)
us.regions <- read.csv('US_Regions.csv',header = T,sep = ",")
brewMap <- merge(brewMap,us.region)
brewMap <- as.data.frame(BrewbyState)
names(brewMap) <-c("state","Breweries")
View(brewMap)
us.regions <- read.csv('US_Regions.csv',header = T,sep = ",")
View(us.regions)
brewMap <- merge.data.frame(brewMap,us.region, by="state"")
View(brewMap)
us.regions <- read.csv('US_Regions.csv',header = T,sep = ",")
brewMap <- merge(brewMap,us.region, by="state",all=TRUE)
us.regions <- read.csv('US_Regions.csv',header = T,sep = ",")
brewMap <- merge(brewMap,us.regions, by="state",all=TRUE)
View(brewMap)
str(us.regions)
str(brewMap)
brewMap <- as.data.frame(BrewbyState)
str(brewMap)
BrewMap <- as.data.frame(BrewbyState)
names(BrewMap) <-c("state","Breweries")
BrewMap$state <- trimws(BrewMap$state)
BrewMap <- merge(BrewMap,us.regions, by="state",all=TRUE)
View(BrewMap)
BrewMap <- as.data.frame(BrewbyState)
names(BrewMap) <-c("state","Breweries")
BrewMap$state <- trimws(BrewMap$state)
us.regions <- read.csv('US_Regions.csv',header = T,sep = ",")
BrewMap <- merge(BrewMap,us.regions, by="state",all=TRUE)
Breweries.by.state <- read.csv("C:/Users/Prodigy/Documents/GitRepositories/MSDS-CASE_STUDY1_JEFF-JEREMY/US-Regions.csv")
library(ggplot2)
library(fiftystater)
library(mapproj)
# map_id creates the aesthetic mapping to the state name column in your data
mapplot <- ggplot(BrewMap, aes(map_id = region)) +
# map points to the fifty_states shape data
geom_map(aes(fill = Breweries), map = fifty_states) +
expand_limits(x = fifty_states$long, y = fifty_states$lat) +
coord_map() +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL) +
labs(fill = "Brewery\nQuantity",
title = "Breweries by State",
x = "",
y = "") +
scale_fill_continuous(low = "thistle2", high = "darkred", guide="colorbar")+
theme(legend.position = "bottom",
panel.background = element_blank()) +
# add border boxes to AK/HI
fifty_states_inset_boxes()
mapplot
